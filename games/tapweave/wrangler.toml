name = "tapweave-api"
main = "src/worker.ts"
compatibility_date = "2024-01-01"

# TapWeave game data database (users, games, invites)
[[d1_databases]]
binding = "DB"
database_name = "tapweave-db"
database_id = "tapweave-db"

# Environment variables
# NOTE: Set JWT_SECRET as a Cloudflare Worker secret in production using:
# wrangler secret put JWT_SECRET
[vars]
AUTH_API_URL = "https://narduk-games-auth-api.narduk.workers.dev"

[env.production]
[[env.production.d1_databases]]
binding = "DB"
database_name = "tapweave-db"
database_id = "tapweave-db"

[env.production.vars]
AUTH_API_URL = "https://narduk-games-auth-api.narduk.workers.dev"
